<!DOCTYPE html>
<html>

<head>
	<!--CSS style-->
	<style>	
		div.form{
		    display: block;
		    text-align: left;		/*You can change how the form aligns here*/
		}
		form
		{
		    display: inline-block;
		    margin-left: auto;
		    margin-right: auto;
		    text-align: left;
		}
		input[type="text"]{font-family:courier new;}

		/*Make a class for all labels to style it*/
		.label_class{
			font-family: courier new;
		}
	</style>

</head>

<p style="font-family:courier new; font-size: 40px; font-style:bold" align="center">
	Nerd Land	
</p>

<body onload="setTimeStamp()">
	<div class="form">
		<form align="right" method="GET" id="inputForm" form_receiver="assignment1-formProcessor.html" onsubmit="form_checker()">
			<label for="accntName" class="label_class">Account name: </label></br>
			<input type="text" name="accntName" id="accntName" pattern="[A-Za-z]{1}[a-zA-Z0-9]*"placeholder="your account name"required="Please choose an account name"></br></br>
			
			<label for="emailAddress" class="label_class">Email address: </label></br>
			<input type="email" name="emailAddress" id="emailAddress" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[A-Za-z]{2,}" placeholder="Email address: x@y.z" required="Please enter a valid email address"></br></br>
			
			<label for="phone" class="label_class">Phone Number: 123-123-1234: </label></br>
			<input type="tel" name="phone" id="phone" placeholder="123-123-1234"pattern="[1-9]{3}-[0-9]{3}-[0-9]{4}" required="Please provide a valid phone number with format 123-123-1234"> </br></br>
			
			<label for="dateOfBirth" class="label_class">Date of birth: mm-dd-yyyy: </label></br>
			<input type="date" name="dateOfBirth" id="dateOfBirth" placeholder="mm-dd-yyyy" required="Please choose your date of birth"> </br></br>

			<label for="zipCode" class="label_class">Zip code: </label></br>
			<input type="text" name="zipCode" id="zipCode" placeholder="55688"pattern="[0-9]{5}(?:-[0-9]{4})?" required="Please provide a valid zip code"> </br></br>

			<label for="password" class="label_class">Password: </label></br>
			<input type="password" name="password" id="password" placeholder=""pattern="[\S]{6,}" required="Please choose a password with at least 6 characters, no space allowed"> </br></br>

			<label for="passwordConfirmation" class="label_class">Password confirmation: </label></br>
			<input type="password" name="passwordConfirmation" id="passwordConfirmation" placeholder="******"pattern="[\S]*" required="Please re-enter the same password"> </br></br>
			
			<input type="hidden" name="timeStamp" id="timeStamp"> </br></br>	

			<input type="submit" value="Submit">
			<input type="button" value="Clear" onclick="clear_fields()" >
		</form>
	</div>


<script>

	function setTimeStamp(){document.getElementById("timeStamp").value = Date.now();
	console.log(document.getElementById("timeStamp").value);}


	function form_checker(){

		/* Check if date of birth is valid*/
		var birthDateAsStr = document.getElementById('dateOfBirth').value;
		var birthDateAsUnix = Date.parse(birthDateAsStr);
		var unixTimeStamp = document.getElementById("timeStamp").value;
		console.log(unixTimeStamp, birthDateAsUnix);
		var daysSinceBirth = (unixTimeStamp - birthDateAsUnix) / (1000*3600*24);
		if (daysSinceBirth < 6570 || daysSinceBirth >= 40150){
			window.alert("Please make sure you're over 18 or under 110 to register for the website");
		}
		else if(document.getElementById("password").value != document.getElementById("passwordConfirmation").value){
			console.log("password doesn't match");
			window.alert("Please make sure you re-enter your password correctly");
		}
		else{
			document.getElementById("inputForm").action = "assignment1-formProcessor.html";
		}
		console.log("days since birth:", daysSinceBirth);
	}
	


</script>

</body>



</html>